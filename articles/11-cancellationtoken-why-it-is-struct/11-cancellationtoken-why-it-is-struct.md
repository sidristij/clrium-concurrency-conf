# СancellationToken - почему он struct и что вообще происходит?

*Гочаров А. В.*

## Введиие.
Мне повезло, последние несколько лет (и несколько компаний) я занимаюсь разработкой высоконагруженых систем. Мне это нравиться. В тоже время, в этих компаниях, я провожу технические собеседования. Хороший кандидат, с моей точки зрения, должен отлично знать свой инструемент, и иметь фантазию для поиска решений проблем с которыми он еще не сталкивался. Собеседования начинаются, почти всегда, с классического примера кода (1) и просьбе кандидату описать все что в коде происходит и все что он вообще знает об этом. 

```csharp
[1]
  int a = 1;
  object b = a;
  long c = (long)b;
```
Большенство кандидатов, уделяют много внимания на boxing/unboxing, некоторые вспоминают что тут случиться ошибка приведения типа. Но для меня главное чтобы кандидат на это не остановился, и начал рассказывать про ссылочные и значемые типы, их отличия, по размерам, по объему памяти, по расположению, про жизннеый цикл, про GC и т.д. Почему?

## Оптимизация, оптимизация и еще раз оптимизация.
Существуют две темы, в .NET, которые важны при разработке высоконагруженных систем на C#: 
1. Управление памятью.
2. Многопоточность.
Конечно, когда речь идет о выской нагрузке, есть и другие вопросы, это и архитектура, и выбор БД и т.д. и т.п. Но если речь только о .NET, то важны указанные две темы. Чтобы писать хороший быстрый и надежный код, нужно в этом разбираться.

## Заключение.
